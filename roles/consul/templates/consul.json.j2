{
  "datacenter": "{{ consul_dc }}",
  "advertise_addr": "{{ consul_advertise }}",
  "rejoin_after_leave": true,
{% if consul_bootstrap_expect > 1 %}
  "retry_join": [ {{ consul_retry_join }} ],
{% endif %}
  "data_dir": "/data",
  "ui_dir": "/data/ui/dist",
{% if consul_is_server %}
  "server": true,
  "bootstrap_expect": {{ consul_bootstrap_expect }},
{% endif %}
{% if consul_gossip_key is defined %}
  "encrypt": "{{ consul_gossip_key }}",
{% endif %}
{% if consul_enable_tls %}
  "ca_file": "/etc/consul.d/ssl/{{ consul_ca_file }}",
  "cert_file": "/etc/consul.d/ssl/{{ consul_cert_file }}",
  "key_file": "/etc/consul.d/ssl/{{ consul_key_file }}",
  "verify_incoming": true,
  "verify_outgoing": true,
{% endif %}
  "addresses": {
    "HTTP": "0.0.0.0"
  }
}
